C51 COMPILER V9.59.0.0   MAIN                                                              01/05/2019 09:35:15 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Project_Volter) DEBUG OBJECTEX
                    -TEND PRINT(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "DISP.h"
   2          #include "I2C.h"
   3          #include "Func.h"
   4          #define uchar unsigned char
   5          #define uint unsigned int
   6          
   7          sbit recout=P1^0;
   8          
   9          bit erflags;
  10          bit setup;
  11          bit selectwp;
  12          bit rise;
  13          bit setupend;
  14          
  15          data uchar  param[9];
  16          data uchar  p;
  17          data uchar  hide;
  18          data uchar  k;
  19          data uint   para1,para2;
  20          data uchar  da;
  21          data uchar  so;
  22          
  23          extern uchar disp[8];
  24          
  25          int main()
  26          {
  27   1        int keynum;
  28   1        EA=1;
  29   1        ET0=1;
  30   1        ET1=1;
  31   1        PT0=1;
  32   1        PT1=0;
  33   1        TH0=0xfe;
  34   1        TL0=0x0c;
  35   1        TR0=1;
  36   1        TR1=1;
  37   1        while(1)
  38   1        {
  39   2          read24c02();
  40   2          display(0,15);
  41   2          keynum=keyscan();
  42   2          if(keynum==12)
  43   2          {
  44   3            if(setup==1)
  45   3            {
  46   4              if(setupend==1)
  47   4              {
  48   5                write24c02;
*** WARNING C275 IN LINE 48 OF main.c: expression with possibly no effect
  49   5                Calculate();
  50   5              }
  51   4              setup=0;
  52   4              display(0,15);
  53   4            }
C51 COMPILER V9.59.0.0   MAIN                                                              01/05/2019 09:35:15 PAGE 2   

  54   3            else
  55   3            {
  56   4              setup=1;
  57   4              display(5,15);
  58   4            }
  59   3          }
  60   2          if(keynum==13)
  61   2          {
  62   3            if(selectwp==1)
  63   3            {
  64   4              switch(param[6])
  65   4              {
  66   5                case(1):param[6]=2;break;
  67   5                case(2):param[6]=1;break;
  68   5              }
  69   4            }
  70   3            else
  71   3            {
  72   4              k=1;
  73   4              disp[k]=1;
  74   4              display(5,15);
  75   4            }
  76   3          }
  77   2        }
  78   1        return 0;
  79   1      }
  80          
  81          
  82          void output(void) interrupt 3
  83          {
  84   1        
  85   1        TR1=0;
  86   1        if(param[6]==1)
  87   1        {
  88   2          TH1=para1/256;
  89   2          TL1=para1%256;
  90   2          if(rise)
  91   2          {
  92   3            if(da<240)
  93   3            {
  94   4              da=da+16;
  95   4            }
  96   3            else if(da==240)
  97   3            {
  98   4              da=255;
  99   4              rise=0;
 100   4            }
 101   3          }
 102   2          else
 103   2          {
 104   3            if(da>16)
 105   3            {
 106   4              da=da-16;
 107   4            }
 108   3            else
 109   3            {
 110   4              da=0;
 111   4              rise=1;
 112   4            }
 113   3          }
 114   2          so=para2*da/50;
 115   2          /*Add I2C DAC Code*/
C51 COMPILER V9.59.0.0   MAIN                                                              01/05/2019 09:35:15 PAGE 3   

 116   2          sen:  erflags=0;              
 117   2            Start( );               
 118   2            SendByte(0x90);         
 119   2            cAck( );              
 120   2            if(erflags==1) goto sen;      
 121   2            SendByte(0x00);           
 122   2            cAck( );              
 123   2            if(erflags==1) goto sen;  
 124   2          SendByte(so);
 125   2          cAck();
 126   2        }
 127   1        else if(param[6]==2)
 128   1        {
 129   2          recout=~recout;
 130   2          if(recout)  
 131   2          {
 132   3            TH1=para1/256;
 133   3            TL1=para1%256; 
 134   3          }
 135   2          else     
 136   2          {
 137   3            TH1=para2/256;
 138   3            TL1=para2%256; 
 139   3          }
 140   2        }
 141   1        TR1=1;
 142   1      }
*** WARNING C294 IN LINE 78 OF main.c: unreachable code


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    343    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     18       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      5    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
